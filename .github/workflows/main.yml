name: Build, Test and Publish (main)on:  push:jobs:  build:    runs-on: ubuntu-latest    steps: # For tests      - name: FSHARP_ENVIRONMENT        run: echo "FSHARP_ENVIRONMENT=Development" >> $GITHUB_ENV      - uses: actions/checkout@v1      - name: Setup .NET        uses: actions/setup-dotnet@v1        with:          dotnet-version: 7.0.100      - name: Restore        run: dotnet restore      - name: Test Solution        run: dotnet test --no-restore --configuration Release      - name: Build Project        run: dotnet build Source/FSharp.Appsettings.fsproj --no-restore --configuration Release --output Output      - name: Publish NuGet        if: github.ref_name == 'main'        run: dotnet nuget push Output/FSharp.Appsettings.*.nupkg -s https://api.nuget.org/v3/index.json -k ${{ secrets.NUGET_TOKEN }} --skip-duplicate        