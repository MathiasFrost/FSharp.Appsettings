name: Build, Test and Publish (main)on:  push:jobs:  build:    runs-on: ubuntu-latest    steps:      # For tests      - name: FSHARP_ENVIRONMENT        run: echo "FSHARP_ENVIRONMENT=Development" >> $GITHUB_ENV      - uses: actions/checkout@v1      - name: Setup .NET        uses: actions/setup-dotnet@v1        with:          dotnet-version: 7.0.100      - name: Restore        run: dotnet restore      - name: Build        run: dotnet build --no-restore -c Release      - name: Test        run: dotnet test --no-build --verbosity normal -c Release      - name: Pack        run: dotnet pack .\Source\FSharp.Appsettings.fsproj -o=.\ -c Release      - name: Publish NuGets (if this version not published before)        if: github.ref_name == 'main'        run: dotnet nuget push FSharp.Appsettings.*.nupkg -s https://api.nuget.org/v3/index.json -k ${{ secrets.NUGET_TOKEN }} --skip-duplicate        